{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Customer } from '../customer';\nimport { Booking } from '../booking';\nimport { Payment } from '../payment';\nexport let CustomerSidePaymentComponent = class CustomerSidePaymentComponent {\n  constructor(bookingService, paymentService, route, router, customerService) {\n    this.bookingService = bookingService;\n    this.paymentService = paymentService;\n    this.route = route;\n    this.router = router;\n    this.customerService = customerService;\n    this.customer = new Customer(0, \"\", \"\", \"\", \"\", \"\", \"\");\n    this.booking = new Booking(0, 0, 0, '', 0, 0);\n    this.payment = new Payment(0, 0, 0, 0, 0, \"\", \"\");\n  }\n  ngOnInit() {\n    this.id = this.route.snapshot.paramMap.get('id');\n    this.total = this.route.snapshot.paramMap.get('total');\n    this.customerService.getCustomerById(this.id).subscribe(data => {\n      this.customer = data;\n    }, error => console.log(error));\n    this.payment.totalAmount = this.total;\n    console.log(this.id);\n    console.log(this.total);\n  }\n  Book() {\n    this.result = this.booking.totalAmount;\n  }\n  onSubmit() {\n    console.log(this.customer);\n    this.payment.status = \"Completed\";\n    this.payment.customerId = this.id;\n    this.paymentService.payment(this.payment).subscribe(data => console.log(data));\n    this.router.navigateByUrl(\"customerdashboard/customerallbookings\");\n  }\n  goToDashboard() {\n    this.router.navigateByUrl(\"/dashboard\");\n  }\n  onlyNumbers(event) {\n    const charCode = event.which ? event.which : event.keyCode;\n    if (charCode > 31 && (charCode < 48 || charCode > 57)) {\n      console.log(\"chacode restricted : \" + charCode);\n      return false;\n    }\n    return true;\n  }\n};\nCustomerSidePaymentComponent = __decorate([Component({\n  selector: 'app-customer-side-payment',\n  templateUrl: './customer-side-payment.component.html',\n  styleUrls: ['./customer-side-payment.component.css']\n})], CustomerSidePaymentComponent);","map":{"version":3,"names":["Component","Customer","Booking","Payment","CustomerSidePaymentComponent","constructor","bookingService","paymentService","route","router","customerService","customer","booking","payment","ngOnInit","id","snapshot","paramMap","get","total","getCustomerById","subscribe","data","error","console","log","totalAmount","Book","result","onSubmit","status","customerId","navigateByUrl","goToDashboard","onlyNumbers","event","charCode","which","keyCode","__decorate","selector","templateUrl","styleUrls"],"sources":["D:\\Angular\\HotelManagementSystem\\src\\app\\customer-side-payment\\customer-side-payment.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { Customer } from '../customer';\nimport { Booking } from '../booking';\nimport { Payment } from '../payment';\nimport { BookingService } from '../Service/booking.service';\nimport { PaymentServiceService } from '../Service/payment-service.service';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { CustomerService } from '../Service/customer.service';\n\n@Component({\n  selector: 'app-customer-side-payment',\n  templateUrl: './customer-side-payment.component.html',\n  styleUrls: ['./customer-side-payment.component.css']\n})\nexport class CustomerSidePaymentComponent {\n\n  \n  id:any;\n  \n  result!: number;\n  total:any;\n  customer:Customer = new Customer(0,\"\",\"\",\"\",\"\",\"\",\"\");\n  booking :Booking = new Booking(0,0,0,'',0,0);\n  payment:Payment=new Payment(0,0,0,0,0,\"\",\"\");\n  constructor(private bookingService:BookingService,private paymentService:PaymentServiceService,private route:ActivatedRoute,private router:Router,private customerService:CustomerService){}\n \n  ngOnInit(): void {\n    this.id = this.route.snapshot.paramMap.get('id');\n    this.total = this.route.snapshot.paramMap.get('total');\n    this.customerService.getCustomerById(this.id).subscribe(data=>{this.customer=data;},error=>console.log(error));\n    this.payment.totalAmount=this.total;\n   console.log(this.id);\n   console.log(this.total); \n   }\n\n   Book(){\n    \n    this.result=this.booking.totalAmount;\n   \n\n    }\n\n    \n\n  onSubmit(){\n    \n    console.log(this.customer);\n    this.payment.status=\"Completed\";\n    this.payment.customerId=this.id;\n    \n    this.paymentService.payment( this.payment ).subscribe(data =>\n      console.log(data));\n      this.router.navigateByUrl(\"customerdashboard/customerallbookings\");\n\n\n\n\n    }\n    goToDashboard(){\n      this.router.navigateByUrl(\"/dashboard\");    \n    }\n\n    onlyNumbers(event: {\n      keyCode: any; which: any; \n}):boolean{\n      const charCode = (event.which)?event.which:event.keyCode;\n      if(charCode>31 && (charCode<48 || charCode>57))\n      {\n        console.log(\"chacode restricted : \"+charCode);\n        return false;\n      }\n      return true;\n\n    }\n\n\n\n}\n"],"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AACzC,SAASC,QAAQ,QAAQ,aAAa;AACtC,SAASC,OAAO,QAAQ,YAAY;AACpC,SAASC,OAAO,QAAQ,YAAY;AAW7B,WAAMC,4BAA4B,GAAlC,MAAMA,4BAA4B;EAUvCC,YAAoBC,cAA6B,EAASC,cAAoC,EAASC,KAAoB,EAASC,MAAa,EAASC,eAA+B;IAArK,KAAAJ,cAAc,GAAdA,cAAc;IAAwB,KAAAC,cAAc,GAAdA,cAAc;IAA+B,KAAAC,KAAK,GAALA,KAAK;IAAwB,KAAAC,MAAM,GAANA,MAAM;IAAgB,KAAAC,eAAe,GAAfA,eAAe;IAHzK,KAAAC,QAAQ,GAAY,IAAIV,QAAQ,CAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,CAAC;IACrD,KAAAW,OAAO,GAAY,IAAIV,OAAO,CAAC,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC,EAAE,EAAC,CAAC,EAAC,CAAC,CAAC;IAC5C,KAAAW,OAAO,GAAS,IAAIV,OAAO,CAAC,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,CAAC;EAC+I;EAE3LW,QAAQA,CAAA;IACN,IAAI,CAACC,EAAE,GAAG,IAAI,CAACP,KAAK,CAACQ,QAAQ,CAACC,QAAQ,CAACC,GAAG,CAAC,IAAI,CAAC;IAChD,IAAI,CAACC,KAAK,GAAG,IAAI,CAACX,KAAK,CAACQ,QAAQ,CAACC,QAAQ,CAACC,GAAG,CAAC,OAAO,CAAC;IACtD,IAAI,CAACR,eAAe,CAACU,eAAe,CAAC,IAAI,CAACL,EAAE,CAAC,CAACM,SAAS,CAACC,IAAI,IAAE;MAAC,IAAI,CAACX,QAAQ,GAACW,IAAI;IAAC,CAAC,EAACC,KAAK,IAAEC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC,CAAC;IAC9G,IAAI,CAACV,OAAO,CAACa,WAAW,GAAC,IAAI,CAACP,KAAK;IACpCK,OAAO,CAACC,GAAG,CAAC,IAAI,CAACV,EAAE,CAAC;IACpBS,OAAO,CAACC,GAAG,CAAC,IAAI,CAACN,KAAK,CAAC;EACvB;EAEAQ,IAAIA,CAAA;IAEH,IAAI,CAACC,MAAM,GAAC,IAAI,CAAChB,OAAO,CAACc,WAAW;EAGpC;EAIFG,QAAQA,CAAA;IAENL,OAAO,CAACC,GAAG,CAAC,IAAI,CAACd,QAAQ,CAAC;IAC1B,IAAI,CAACE,OAAO,CAACiB,MAAM,GAAC,WAAW;IAC/B,IAAI,CAACjB,OAAO,CAACkB,UAAU,GAAC,IAAI,CAAChB,EAAE;IAE/B,IAAI,CAACR,cAAc,CAACM,OAAO,CAAE,IAAI,CAACA,OAAO,CAAE,CAACQ,SAAS,CAACC,IAAI,IACxDE,OAAO,CAACC,GAAG,CAACH,IAAI,CAAC,CAAC;IAClB,IAAI,CAACb,MAAM,CAACuB,aAAa,CAAC,uCAAuC,CAAC;EAKpE;EACAC,aAAaA,CAAA;IACX,IAAI,CAACxB,MAAM,CAACuB,aAAa,CAAC,YAAY,CAAC;EACzC;EAEAE,WAAWA,CAACC,KAEf;IACK,MAAMC,QAAQ,GAAID,KAAK,CAACE,KAAK,GAAEF,KAAK,CAACE,KAAK,GAACF,KAAK,CAACG,OAAO;IACxD,IAAGF,QAAQ,GAAC,EAAE,KAAKA,QAAQ,GAAC,EAAE,IAAIA,QAAQ,GAAC,EAAE,CAAC,EAC9C;MACEZ,OAAO,CAACC,GAAG,CAAC,uBAAuB,GAACW,QAAQ,CAAC;MAC7C,OAAO,KAAK;;IAEd,OAAO,IAAI;EAEb;CAIH;AA/DYhC,4BAA4B,GAAAmC,UAAA,EALxCvC,SAAS,CAAC;EACTwC,QAAQ,EAAE,2BAA2B;EACrCC,WAAW,EAAE,wCAAwC;EACrDC,SAAS,EAAE,CAAC,uCAAuC;CACpD,CAAC,C,EACWtC,4BAA4B,CA+DxC"},"metadata":{},"sourceType":"module","externalDependencies":[]}